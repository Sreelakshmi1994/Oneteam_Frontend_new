
<div *ngIf="issLoading" class="overlay">
    <mat-progress-spinner class="spinner" [color]="color" [mode]="mode" [value]="value">
    </mat-progress-spinner>
</div>
<div  id='Topdiv'></div>
<div  id='Bottomdiv'></div>
<div class="main-content"  >

    <div class="container-fluid">
        <div class="row" *ngIf="Entry_View">
            <div class="col-md-12 pl-3 pr-5 mt-1" style="border: 1" *ngIf="isDesktopMenu()" [style.height.px]="myInnerHeighttt">
                <div class="dt-card mb-0 pb-1 " >        
                <div class="dt-card__body">
                <div class="mb-0">          
                <div class="form-row">                    
                    <label class="col-md-0 col-sm-0 col-form-label text-sm-right">Course</label>
                    <div class="col-md-3 col-sm-3 mb-1">
                    <input type="text"  class="form-control"  id="Course_" name="Course_"  [matAutocomplete]="auto_Course"
                    [(ngModel)]="Course_" (click)="Search_Course_Typeahead($event)" (keyup)="Search_Course_Typeahead($event)" (ngModelChange)="Course_change()" /></div>  
                    <mat-autocomplete #auto_Course="matAutocomplete" [displayWith]="display_Course">
                        <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                        <ng-container *ngIf="!issLoading">
                        <mat-option *ngFor="let Course of Course_Data_Filter" [value]="Course">
                        <span>{{Course.Course_Name}}</span>
                        </mat-option>
                        </ng-container>
                    </mat-autocomplete>  
                    <label class="col-md-0 col-sm-0 col-form-label text-sm-right">Batch</label>
                    <div class="col-md-4 col-sm-4 mb-1">
                        <input type="text"  class="form-control"  id="Batch_" name="Batch_"  [matAutocomplete]="auto_Batch"
                        [(ngModel)]="Batch_" (click)="Search_Batch_Typeahead_New($event)" (keyup)="Search_Batch_Typeahead_New($event)" (ngModelChange)="Batch_change()" /></div>  
                        <mat-autocomplete #auto_Batch="matAutocomplete" [displayWith]="display_Batch">
                        <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
                        <ng-container *ngIf="!issLoading">
                        <mat-option *ngFor="let Batch_ of Batch_Data_Filter" [value]="Batch_">
                        <span>{{Batch_.Batch_Name}}</span>
                        </mat-option>
                        </ng-container>
                        </mat-autocomplete>              
                    <label  class="col-md-0 col-sm-0 col-form-label text-sm-right">Duration(Min.) </label>
                    <div  class="col-md-1 col-sm-2 mb-1">
                    <input type="number" [(ngModel)]="Attendance_Master_.Duration" name="Attendance_Master_.Duration" class="form-control" placeholder=" ">
                    </div>
                    <div class="col-md-0 col-sm-0">  
                    <button (click)="Close_Click()" mat-raised-button type="submit"  class="other-button-style btnflot pull-left mr-1 ">Close</button>
                    <button mat-raised-button type="submit" [hidden]="Attendance_Save==false" *ngIf="batchsaveview==true" id="Save_Button" class="save-button-style pull-right mr-1" (click)="Save_Attendance()">Save</button>            
                   <button (click)="Search_Attendance()" mat-raised-button type="submit"  class="other-button-style btnflot pull-left mr-1 blue-btn">Search Student</button>
                </div>
                </div>
                </div>
                </div>
                </div>        
                </div>
            
                <div class="col-md-5 pl-3 pr-5 mt-2" style="border: 1" *ngIf="isDesktopMenu()">
                <div class="dt-card mb-0 pb-1" style="background-color: white;" >  
                    
            
                <div class="card-body card-body-for-searchedit-lead-section set-height-scroll-bar-wole-block" [style.height.px]="myInnerHeightt">
                <div class="table-responsive"> <table class="table table-hover table-for-sale-search-section-diary">
                    
                <thead>
                <th >Attendance</th> 
                <th >Student </th> 
                <th *ngIf="Absent_remark_view==true" >Absent Remark</th>
                <th >Agreement Status </th> 
                <th *ngIf="Attendance_Count > 10"> Entry Level </th> 
                <th *ngIf="Attendance_Count > 50"> Mid Level </th> 
                <th *ngIf="End_days_difference <= 10"> Exit Level </th> 
                <th  *ngIf="End_days_difference <= 10"> Project</th> 
                </thead>
                <tbody  *ngFor="let Student_t of Attendance_Student_Data; let i = index" >
                <tr>
                <td _ngcontent-xmy-c9="" class="crect-margin-width-table-header-title">
                    <div _ngcontent-xmy-c9="" class="form-check">
                    <label _ngcontent-xmy-c9="" class="form-check-label">
                    <input _ngcontent-xmy-c9="" checked="" class="form-check-input"
                    [(ngModel)]="Student_t.Check_Box" type="checkbox" name={{Student_t.Student_Id}}{{Student_t.Student_Id}} 
                    [checked]="Student_t.Check_Box" value="" (ngModelChange)="Checkbox_change()">
                    <span _ngcontent-xmy-c9="" class="form-check-sign" style="margin-top: 15px;margin-left: 11px;">
                    <span _ngcontent-xmy-c9="" class="check"></span>
                    </span>
                    </label>
                    </div>
                    </td>
                    <!-- <td _ngcontent-xmy-c9="" class="crect-margin-width-table-header-title">
                        <div _ngcontent-xmy-c9="" class="form-check">
                        <label _ngcontent-xmy-c9="" class="form-check-label">
                        <input _ngcontent-xmy-c9="" checked="" class="form-check-input"
                        [(ngModel)]="Attendance_Student_.Attendance_Status" type="checkbox" name="Attendance_Student_.Attendance_Status" 
                        [checked]="Attendance_Student_.Attendance_Status" value="">
                        <span _ngcontent-xmy-c9="" class="form-check-sign" style="margin-top: 15px;margin-left: 11px;">
                        <span _ngcontent-xmy-c9="" class="check"></span>
                        </span>
                        </label>
                        </div>
                        </td> -->
                <td  class="td-padding">{{Student_t["Student_Name"]}}</td>
                <td *ngIf="Student_t.Check_Box==false" class="td-padding"><div  class="col-md-12 col-sm-12 mb-1">
                    <input type="text" [(ngModel)]="Student_t.Absent_Remark" name="Student_t.Absent_Remark" class="form-control" placeholder=" ">
                    </div></td>
                <td  class="td-padding">{{Student_t["Agreement_Status_Name"]}}</td>
                <td  class="td-padding" *ngIf="Attendance_Count > 10">{{Student_t["Entry_Level_Status_Name"]}}</td>
                <td  class="td-padding"  *ngIf="Attendance_Count > 50">{{Student_t["Mid_Level_Status_Name"]}}</td>
                <td  class="td-padding" *ngIf="End_days_difference <= 10">{{Student_t["Exit_Level_Status_Name"]}}</td>
                <td  class="td-padding" *ngIf="End_days_difference <= 10">{{Student_t["Project_Status_Name"]}}</td>
                <!-- <td  class="td-padding"><button (click)="Search_Attendance()" mat-raised-button type="submit"  class="other-button-style btnflot pull-left mr-1 blue-btn">Entry level</button></td> -->
                </tr>
                </tbody>
                </table>
                </div>
                </div>
                </div>
                </div>
               
                <div class="col-md-7 pl-3 pr-8 mt-2" style="border: 1" *ngIf="isDesktopMenu()">
                    <div class="dt-card mb-0 pb-1" style="background-color: white;" >  
                
                    <div class="card-body card-body-for-searchedit-lead-section set-height-scroll-bar-wole-block" [style.height.px]="myInnerHeightt">
                    <div class="table-responsive"> <table class="table table-hover table-for-sale-search-section-diary">
                    <thead>
                    <th >Completed</th>     
                    <th >Day </th>
                    <th >Heading </th>
                    <th >Syllabus </th> 
                    <th >Task </th>
                    </thead>
                    <tbody  *ngFor="let Student_Subject_ of Attendance_Subject_Data; let i = index" >
                    <tr>
                        <td _ngcontent-xmy-c9="" class="crect-margin-width-table-header-title"  >
                            <div _ngcontent-xmy-c9="" class="form-check" *ngIf="Student_Subject_.CheckboxView==1">
                            <label _ngcontent-xmy-c9="" class="form-check-label">
                            <input _ngcontent-xmy-c9="" checked="" class="form-check-input"
                            [(ngModel)]="Student_Subject_.Checkbox" type="checkbox" name={{Student_Subject_.Subject_Id}}{{Student_Subject_.Subject_Id}} 
                            [checked]="Student_Subject_.Checkbox" value="">
                            <span _ngcontent-xmy-c9="" class="form-check-sign" style="margin-top: 15px;margin-left: 11px;">
                            <span _ngcontent-xmy-c9="" class="check"></span>
                            </span>
                            </label>
                            </div>
                            </td>

                            <td   class="td-padding" >{{Student_Subject_["Day"]}}</td>
                            <td   class="td-padding" >{{Student_Subject_["Heading"]}}</td>

                            <!-- <td  *ngIf="Student_Subject_.Color==2" class="td-padding" style="color: red;">{{Student_Subject_["Subject_Name"]}}</td>
                            <td  *ngIf="Student_Subject_.Color==1" class="td-padding" style="color: darkblue;">{{Student_Subject_["Subject_Name"]}}</td> -->

                            <td  *ngIf="Student_Subject_.Color==2" class="td-padding" style="color: red;">  <textarea Input rows="3"  cols="40" readonly style="background-color: #fff;color: red;     border: transparent; width: 300px;"  class="form-control " [(ngModel)]="Student_Subject_.Subject_Name"  name="{{Student_Subject_.Subject_Name}}a{{Student_Subject_.Subject_Name}}"></textarea></td>
                            <td  *ngIf="Student_Subject_.Color==1" class="td-padding" style="color: darkblue;">  <textarea Input rows="3" cols="40"  readonly style="background-color: #fff;color: darkblue; border: transparent; width: 300px;"   class="form-control " [(ngModel)]="Student_Subject_.Subject_Name"  name="{{Student_Subject_.Subject_Name}}a{{Student_Subject_.Subject_Name}}"></textarea></td>


                            <td  class="td-padding" >{{Student_Subject_["Task"]}}</td>
                    </tr>
                    </tbody>
                    </table>
                    </div>
                    </div>
                    </div>
                    </div>
                    <!-- <div class="col-md-0 col-sm-0">  
                        <button (click)="Close_Click()" mat-raised-button type="submit"  class="other-button-style btnflot pull-left mr-1 ">Close</button>
                       </div> -->
        </div>
        </div>

<div class="" *ngIf="!Entry_View" >


    <div class="col-md-12 pl-3 pr-5 mt-1" style="border: 1" *ngIf="isDesktopMenu()" >
        <div class="dt-card mb-0 p-1 "  >        
        <div class="dt-card__body" >
        <div class="mb-0">          
        <div class="form-row" style="align-items: center;    padding-left: 15px;" *ngFor="let Batch_End_Warning_Data_t of Batch_End_Warning_Data; let i = index">
            <h3 style="color: red;font-size: 16px;
            font-weight: 600;    padding-top: 3px;">Batch Ending Warning!</h3>
            <h3 style="font-size: 16px;    color: #0a0a0a;
            font-weight: 500;"> <td  class="td-padding">{{Batch_End_Warning_Data_t["Batch_Name"]}} - </td> <td  class="td-padding">{{Batch_End_Warning_Data_t["Course_Name"]}} -</td>
                <td  class="td-padding">{{Batch_End_Warning_Data_t["Trainer_Name"]}} Ends on :</td>
                <td  class="td-padding">{{Batch_End_Warning_Data_t["End_Date"]}} </td></h3>
        </div>
        </div>
        </div>
        </div>        
        </div>

    <div class="col-md-12 pl-3 pr-5 mt-1" style="border: 1" *ngIf="isDesktopMenu()" >
    <div class="dt-card mb-0 p-1 "  >        
    <div class="dt-card__body" >
    <div class="mb-0">          
    <div class="form-row">
        <label class="col-md-0 col-sm-0 col-form-label text-sm-right" style="margin-left:1%!important;">Date</label>  
        <div class="col-md-0 col-sm-0 mb-1">
        <div _ngcontent-xmy-c9="" class="checkbox-to-crect-sales-search-section">
        <div _ngcontent-xmy-c9="" class="form-check uper-dte-lbel-sales-sctn-new pl-0" >
        <label _ngcontent-xmy-c9="" class="form-check-label">
        <input type='checkbox' class="form-check-input" name="Is_Date" [(ngModel)]="Is_Date"   />
        <span _ngcontent-xmy-c9="" class="form-check-sign" style="margin-top:3px;"><span _ngcontent-xmy-c9="" class="check">
        </span>
        </span>
        </label>
        </div>
        </div>  
        </div>    
        <label class="col-md-0 col-sm-0 col-form-label text-sm-right">From</label>
        <div class="col-md-2 col-sm-2 mb-1 wd_d">
        <!-- <input type="date" class="form-control p-0 pl-1" placeholder="From"[(ngModel)]="FromDate_" name="FromDate_" > -->
        <mat-form-field class=" form-control mrgn-crct-input-text-div-tre-prt-sles1 mrgn-crct-input-bx-sls-mstr-rspnsv-nw-sctn" 
        style="height: 40px;padding-top: 7px!important;">
            <input matInput [matDatepicker]="dp1" placeholder="" [(ngModel)]="FromDate_" name="FromDate_">
            <mat-datepicker-toggle matSuffix [for]="dp1"></mat-datepicker-toggle>
            <mat-datepicker #dp1></mat-datepicker>
            </mat-form-field>

    </div>  
        <label class="col-md-0 col-sm-0 col-form-label text-sm-right">To</label>
        <div class="col-md-2 col-sm-2  mb-1 wd_d">
        <!-- <input type="date" class="form-control p-0 pl-1" placeholder="To"  [(ngModel)]="ToDate_" name="ToDate_"> -->
        <mat-form-field class=" form-control mrgn-crct-input-text-div-tre-prt-sles1 mrgn-crct-input-bx-sls-mstr-rspnsv-nw-sctn" style="height: 40px;"
        style="height: 40px !important;padding-top: 7px!important;">
        <input matInput [matDatepicker]="dpdate" placeholder=""  [(ngModel)]="ToDate_" name="ToDate_">
        <mat-datepicker-toggle matSuffix [for]="dpdate"></mat-datepicker-toggle>
        <mat-datepicker #dpdate></mat-datepicker>
        </mat-form-field>
    </div>
        <label class="col-md-0 col-sm-0 col-form-label text-sm-right" style="margin-left:1%!important">Course</label>
        <div class="col-md-3 col-sm-3 mb-1">
        <input type="text"  class="form-control"  id="Course_Search" name="Course_Search"  [matAutocomplete]="auto_Course1"
        [(ngModel)]="Course_Search" (click)="Search_Course_Typeahead($event)"  (keyup)="Search_Course_Typeahead($event)" (ngModelChange)="Search_Course_change()"/>  
        <mat-autocomplete #auto_Course1="matAutocomplete" [displayWith]="display_Course">
            <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
            <ng-container *ngIf="!issLoading">
            <mat-option *ngFor="let Course of Course_Data_Filter" [value]="Course">
            <span>{{Course.Course_Name}}</span>
            </mat-option>
            </ng-container>
        </mat-autocomplete>  
    </div>
    <div class=" ml-2">
        <label class="col-md-0 col-sm-0 col-form-label text-sm-right" >Batch</label>
    </div>
       
        <div class="col-md-3 col-sm-2 mb-1">
            <input type="text"  class="form-control"  id="Batch_Search" name="Batch_Search"  [matAutocomplete]="auto_Batch1"
            [(ngModel)]="Batch_Search" (click)="Search_Batch_Typeahead_Search($event)" (keyup)="Search_Batch_Typeahead_Search($event)" /></div>  
            <mat-autocomplete #auto_Batch1="matAutocomplete" [displayWith]="display_Batch">
            <mat-option *ngIf="issLoading"><mat-spinner diameter="500"></mat-spinner></mat-option>
            <ng-container *ngIf="!issLoading">
            <mat-option *ngFor="let Batch_ of Batch_Data_Filter" [value]="Batch_">
            <span>{{Batch_.Batch_Name}}</span>
            </mat-option>
            </ng-container>
            </mat-autocomplete>  
        <div class="col-md-1" >  
            <button (click)="Create_New()" mat-raised-button type="submit"  class="other-button-style btnflot pull-left mr-1 ">New</button>
         <button (click)="Search_Attendance_Student()" mat-raised-button type="submit"  class="other-button-style btnflot pull-left mr-1 blue-btn">Search</button>
        </div>
    </div>
    </div>
    </div>
    </div>        
    </div>

    <div class="col-md-12 pl-3 pr-5 mt-2" style="border: 1" *ngIf="isDesktopMenu()">
    <div class="dt-card mb-0 pb-1" style="background-color: white;">  

    <div class="card-body card-body-for-searchedit-lead-section"  >
    <div class="table-responsive" [style.height.px]="myInnerHeightt"> <table class="table table-hover table-for-sale-search-section-diary">
    <thead>
    <th >Course</th> 
    <th >Batch </th> 
    <th >Date </th>    
    <th >User </th>   
    <th >Duration </th>   
    <th >Edit </th> 
    </thead>
    <tbody  *ngFor="let Student_t of Attendance_Master_Data; let i = index" >
    <tr>
    <td  class="td-padding">{{Student_t["Course_Name"]}}</td>
    <td  class="td-padding">{{Student_t["Batch_Name"]}}</td>
    <td  class="td-padding">{{Student_t["Date"]}}</td>
    <td  class="td-padding">{{Student_t["Faculty_Name"]}}</td>
    <td  class="td-padding">{{Student_t["Duration"]}}</td>
    <td  class="td-padding" >
        <span class="icon-background2 mr-1"  (click)="Edit_Attendance(Student_t,i)" > <mat-icon class="text-green small" >edit</mat-icon></span>
        </td>
    </tr>
    </tbody>
    </table>
    </div>
    </div>
    </div>
    </div>
   
</div>

</div>

